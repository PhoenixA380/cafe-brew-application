(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1186:function(e,t,n){Promise.resolve().then(n.bind(n,2566)),Promise.resolve().then(n.t.bind(n,936,23)),Promise.resolve().then(n.t.bind(n,8877,23))},2566:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return s},a:function(){return a}});var r=n(7437),o=n(2265),u=n(459);let l=(0,o.createContext)(void 0),s=e=>{let{children:t}=e,[n,s]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e&&s({token:e})},[]);let a=async(e,t)=>{try{let{token:n}=(await (0,u.x4)(e,t)).data;localStorage.setItem("token",n),s({token:n})}catch(e){throw console.error("Login failed:",e),e}};return(0,r.jsx)(l.Provider,{value:{user:n,login:a,logout:()=>{localStorage.removeItem("token"),s(null)}},children:t})},a=()=>{let e=(0,o.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},459:function(e,t,n){"use strict";n.d(t,{Ir:function(){return s},Xp:function(){return u},gK:function(){return l},x4:function(){return o}});let r=n(8472).Z.create({baseURL:"http://localhost:8081/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e));let o=(e,t)=>r.post("/user/login",{email:e,password:t}),u=()=>r.get("/products"),l=e=>r.put("/products",e),s=e=>r.delete("/products",e)},8877:function(){},936:function(e){e.exports={style:{fontFamily:"'__Inter_36bd41', '__Inter_Fallback_36bd41'",fontStyle:"normal"},className:"__className_36bd41"}}},function(e){e.O(0,[232,472,971,582,744],function(){return e(e.s=1186)}),_N_E=e.O()}]);